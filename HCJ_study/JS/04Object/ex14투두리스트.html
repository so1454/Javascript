<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
<!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <style>
    hr {
        width: 500px;
    }
    .todo {
        font-size: 20px;
        width: 200px;
    }
    .form-control {
        width:400px !important;
    }
    body {
        margin: 20px;
    }
    .task {
        margin-top: 15px;
        margin-bottom: 5px;
    }
        .task-done {
        background-color: gray !important;
    }


    </style>


</head>
<body>

<!--íƒ€ì´í‹€ ì‹œì‘-->
    <div class="main">
        <h1>ğŸ“‚ì†Œí˜„ì´ì˜ To-do ListğŸ“‚</h1><br>
        <div class="input-area">
            <div class="row g-2">
                <div class="col-auto">
                    <input type="text" class="form-control" id="task-input">
                </div>
                <div class="col-auto">
                    <button type="submit" class="btn btn-primary mb-3" id="add-button">ì¶”ê°€</button>
                </div>
            </div>
        </div>
        <hr><br>
</div>
<!--íƒ€ì´í‹€ ë-->

<div id = "task-board"></div> <!--ì—¬ê¸°ì— í• ì¼ì„ ì±„ì›Œì¤„êº¼ì—ìš”-->





    <script>
        /*
        1. ìœ ì €ê°€ í• ì¼ì„ ì…ë ¥í•œë‹¤.
        2. ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ í•  ì¼ì´ ì¶”ê°€ëœë‹¤.
        3. ì¶”ê°€ëœ ëª©ë¡ì„ ì›¹í˜ì´ì§€ì— ì¶œë ¥í•œë‹¤.
        4. ì™„ë£Œ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í• ì¼ì— ì™„ë£Œ í‘œì‹œê°€ ë³´ì—¬ì§„ë‹¤.
            ì™„ë£Œì¸ì§€ ì•„ë‹Œì§€ êµ¬ë¶„í•˜ëŠ” ë°©ë²•..?
            -> taskë¥¼ ì €ì¥í•  ë•Œ ìƒíƒœê°’ë„ ê°™ì´ ì €ì¥ëœë‹¤!(ê°ì²´ í˜•íƒœë¡œ ì €ì¥)
            4-1. 'ì™„ë£Œ' í´ë¦­í•˜ëŠ” ìˆœê°„ true/false
            4-2. trueë©´ ë‹¤ í•œê±¸ë¡œ ê°„ì£¼í•˜ê³  ê·¸ëŒ€ë¡œ ë‘˜ê±°ê³ 
            4-3. falseë©´ ì•ˆëë‚œê±¸ë¡œ ê°„ì£¼í•˜ê³  ê·¸ëŒ€ë¡œ
            5. ì‚­ì œ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í• ì¼ì´ ì‚­ì œëœë‹¤.
        
        */

        // input
        const taskInput = document.getElementById("task-input")
        const addButton = document.getElementById("add-button")
        
        let taskList = []; // ìœ ì €ê°€ ì…ë ¥í•œ í•  ì¼ì„ ì§€ì •í•˜ëŠ” ë°°ì—´

        const taskBoard = document.getElementById("task-board") //ë¹„ì–´ìˆëŠ” div ê°€ì ¸ì˜¤ê¸°

        const addTask = function(){
            // console.log(taskInput.value);
            
            // let task = taskInput.value; // inputíƒœê·¸ëŠ” valueë¡œ ê°€ì ¸ì˜¤ëŠ”ê±°ì„
            
            let task = {
                taskContent : taskInput.value,
                isComplete : false
            }
            
            
            
            taskList.push(task); //taskListì— taskë¥¼ ë„£ì„êº¼ì•¼!
            console.log(taskList)
            console.log(task)
            render();

        }

        //ì²´í¬ ìƒíƒœì— ë”°ë¥¸

        // ìœ„ì— ìˆëŠ” render ì •ì˜

        const render = function(){
            let resultHTML = "";
            // isComplete : true --> í´ë˜ìŠ¤ë¥¼ "task task-done"íƒœê·¸ë¡œ ì¶œë ¥
            // isComplete : flase --> í´ë˜ìŠ¤ë¥¼ "task"íƒœê·¸ë¡œ ì¶œë ¥
            
            for (let i = 0 ; i < taskList.length ; i ++){
                if (taskList[i].isComplete){
                // true ì¼ë•ŒëŠ” ë°°ê²½ìƒ‰ì„ ë„£ì–´ì£¼ê¸°ë¡œí•¨
                // ì—¬ê¸°ì„œ task-doneì„ í´ë˜ìŠ¤ì— ì¶”ê°€ì‹œí‚´(ìœ„ì— CSSì— ì„¤ì •í•´ë‘”ê²Œ ì—¬ê¸°ë¡œ ë“¤ì–´ê°€ê²Œë”)
                resultHTML += `
                    <div class="row g-3 task task-done">
                        <div class="col-auto todo">
                            <span class="todo">${taskList[i].taskContent}</span>
                        </div>

                        <div class="col-auto">
                            <button class="btn btn-success" onclick ="toggleCheck('${i}')">ì™„ë£Œ</button>
                            <button class="btn btn-danger" onclick = "deleteTask('${i}')">ì‚­ì œ</button>
                        </div>
                    </div>
                `;

            }else{
                // falseì¼ë•Œ
                resultHTML += `
                    <div class="row g-3 task">
                        <div class="col-auto todo">
                            <span class="todo">${taskList[i].taskContent}</span>
                        </div>

                        <div class="col-auto">
                            <button class="btn btn-success" onclick ="toggleCheck('${i}')">ì™„ë£Œ</button>
                            <button class="btn btn-danger" onclick ="deleteTask('${i}')">ì‚­ì œ</button>
                        </div>
                    </div>
                `;


            }
            }
            taskBoard.innerHTML = resultHTML;
            
        }

        const toggleCheck = function(idx){ // ìœ„ì— ì ì–´ì¤€ í•¨ìˆ˜ì— ië¥¼ í•´ì¤˜ì„œ ë§¤ê°œë³€ìˆ˜ê°€ í•„ìš”í•´
            console.log("ì„ íƒí•œ ë²„íŠ¼ ë°©",idx)

            // ì¸ë±ìŠ¤ë¥¼ í™œìš©í•´ì„œ íŠ¹ì • í• ì¼ì— ëŒ€í•œ ì²´í¬ìƒíƒœ ë³€ê²½í•´ì£¼ë©´
            if (taskList[idx].isComplete){
                //trueì¼ë–„, falseë¡œ ë°”ê¿”ì¤˜
                taskList[idx].isComplete=false;
            }else{
                //falseì¼ë•Œ trueë¡œ ë°”ê¿”ì¤˜
                taskList[idx].isComplete=true;
            }

            // taskList[idx].isComplete = true;
            // console.log(taskList);

            //ì²´í¬ ìƒíƒœê°€ ë°”ë€ ì •ë³´ë¥¼ ë‹¤ì‹œ!!!! ì›¹í˜ì´ì§€ì— ì¶œë ¥ (ë Œë”ë¥¼ ì´ìš©í•´ì„œ!)
            render();
        }

        const deleteTask = function(idx){
                taskList.splice(idx,1);

                 //ì²´í¬ ìƒíƒœê°€ ë°”ë€ ì •ë³´ë¥¼ ë‹¤ì‹œ(ê°±ì‹ ,ì—…ë°ì´íŠ¸)--> ì–˜ê¹Œì§€ í•´ì¤˜ì•¼ ì™„ë²½í•˜ê²Œ ì™„ë£Œ
                render();
            }

        addButton.addEventListener("click",addTask)  // í´ë¦­í• ë•Œ addTaskí•¨ìˆ˜ë¥¼ ë°œí˜„í•´ì¤„êº¼ë‹¤
                                    // addTaskëŠ” ìœ„ì—ì„œ ì •ì˜í•´ë‘” í•¨ìˆ˜ì¸ë° ì†Œê´„í˜¸ê°€ ë‹¬ë ¤ìˆìœ¼ë©´ ë°”ë¡œ ì‹¤í–‰í•˜ê³  ëë‚œë‹¤. ê·¸ë‹ˆê¹Œ ë²„íŠ¼ì„ ëˆ„ë¥¼ë–„ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ ê´„í˜¸ë¥¼ ë¹¼ë¼



    </script>
    















    
</body>
</html>